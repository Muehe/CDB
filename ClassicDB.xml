<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
    <Font name="RQP_Font" font="Fonts\FRIZQT__.TTF" virtual="true">
        <FontHeight>
            <AbsValue val="11"/>
        </FontHeight>
    </Font>
    <Frame name="CdbControlGui" parent="UIParent" movable="true" toplevel="true" enableMouse="true" frameStrata="HIGH" hidden="true">
        <Size>
            <AbsDimension x="180" y="116"/>
        </Size>

        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>

        <Scripts>
            <OnLoad>
                CdbInit();
            </OnLoad>
            <OnEvent>
                CdbOnEvent(event);
            </OnEvent>
            <OnShow>

            </OnShow>
            <OnMouseDown>
                CdbOnMouseDown(arg1);
            </OnMouseDown>
            <OnMouseUp>
                CdbOnMouseUp(arg1);
            </OnMouseUp>
            <OnShow>
                CdbOnFrameShow();
            </OnShow>
        </Scripts>

        <Backdrop bgFile="Interface\AddOns\ClassicDB\img\background" edgeFile="Interface\AddOns\ClassicDB\img\border" tile="true">
            <BackgroundInsets>
                <AbsInset left="0" right="0" top="0" bottom="0"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="8"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="8"/>
            </EdgeSize>
        </Backdrop>

        <Layers>
            <Layer>
                <FontString name="MapButtons" inherits="RQP_Font" text="Mapping:">
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="12" y="-12"/>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="Settings" inherits="RQP_Font" text="Settings:">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="MapButtons" relativePoint="BOTTOMLEFT">
                            <Offset x="0" y="-28"/>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="SetWaypoints" inherits="RQP_Font" text="Waypoints">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="Settings" relativePoint="BOTTOMLEFT">
                            <Offset x="20" y="-2"/>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="SetAutoPlot" inherits="RQP_Font" text="Auto Plot">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="SetWaypoints" relativePoint="BOTTOMLEFT">
                            <Offset x="0" y="-2"/>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="SetQuestStarts" inherits="RQP_Font" text="Quest Starts">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="SetAutoPlot" relativePoint="BOTTOMLEFT">
                            <Offset x="0" y="-2"/>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>

        <Frames>
            <Button name="CleanMap" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="MapButtons" relativePoint="BOTTOMLEFT">
                        <Offset x="5" y="-2"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>CdbCleanMapAndPreventRedraw();</OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(CleanMap, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Clean ClassicDB notes from map.\nDisables automatic quest start and objective plotting.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\Map"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\MapPushed"/>
            </Button>
            <Button name="PlotAll" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="CleanMap" relativePoint="TOPRIGHT">
                        <Offset x="2" y="0"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        CdbGetAllQuestNotes();
                        WorldMapFrame:Show();
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(PlotAll, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Show notes for all quests in the quest log.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\MarkMap"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\MarkMapPushed"/>
            </Button>
            <Button name="PlotSelected" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="PlotAll" relativePoint="TOPRIGHT">
                        <Offset x="2" y="0"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        CdbGetSelectionQuestNotes()
                        WorldMapFrame:Show();
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(PlotSelected, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Show notes for the quest which is currently selected in the quest log.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\Log"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\LogPushed"/>
            </Button>
            <Button name="ShowSearch" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="PlotSelected" relativePoint="TOPRIGHT">
                        <Offset x="2" y="0"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        if (CdbSearchGui:IsShown()) then
                            CdbSearchGui:Hide()
                        else
                            CdbSearchGui:Show()
                        end
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(ShowSearch, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Toggle window for searching NPCs, objects, items and quests.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\Glass"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\GlassPushed"/>
            </Button>
            <Button name="ToggleCartographer" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ShowSearch" relativePoint="TOPRIGHT">
                        <Offset x="2" y="0"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick> Cartographer.options.args.Notes.args.toggle.set(); </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(ToggleCartographer, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Show/Hide Cartographer Notes.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\OnOff"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\OnOffPushed"/>
            </Button>
            <Button name="CycleMap" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ToggleCartographer" relativePoint="BOTTOMLEFT">
                        <Offset x="0" y="2"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick> CdbCycleMarkedZones(); </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(CycleMap, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Cycle through marked zones.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\MapCycle"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\MapCyclePushed"/>
            </Button>
            <Button name="ToggleQuestieNotes" inherits="OptionsButtonTemplate">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ToggleCartographer" relativePoint="TOPRIGHT">
                        <Offset x="2" y="0"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad> if not Questie then ToggleQuestieNotes:Hide(); end </OnLoad>
                    <OnClick> if Questie then Questie:Toggle(); else CdbPrint("Questie not found."); end </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(ToggleQuestieNotes, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Toggle Questie.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
                <NormalTexture file="Interface\Addons\ClassicDB\symbols\OnOff"/>
                <PushedTexture file="Interface\Addons\ClassicDB\symbols\OnOffPushed"/>
            </Button>
            <CheckButton name="waypoints" inherits="OptionsCheckButtonTemplate">
                <Size>
                    <AbsDimension x="16" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="Settings" relativePoint="BOTTOMLEFT">
                        <Offset x="5" y="-2"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnShow>
                        CdbCheckSetting("waypoints");
                    </OnShow>
                    <OnClick>
                        CdbSwitchSetting("waypoints");
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(waypoints, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Plot waypoints for marked NPCs.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
            </CheckButton>
            <CheckButton name="auto_plot" inherits="OptionsCheckButtonTemplate">
                <Size>
                    <AbsDimension x="16" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="SetAutoPlot">
                        <Offset x="-16" y="1"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnShow>
                        CdbCheckSetting("auto_plot");
                    </OnShow>
                    <OnClick>
                        CdbSwitchSetting("auto_plot");
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(auto_plot, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Automatically update quest notes.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
            </CheckButton>
            <CheckButton name="questStarts" inherits="OptionsCheckButtonTemplate">
                <Size>
                    <AbsDimension x="16" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="SetQuestStarts">
                        <Offset x="-16" y="1"/>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnShow>
                        CdbCheckSetting("questStarts");
                    </OnShow>
                    <OnClick>
                        CdbSwitchSetting("questStarts");
                    </OnClick>
                    <OnEnter>
                        CdbTooltip:SetOwner(questStarts, "ANCHOR_TOPLEFT");
                        CdbTooltip:ClearLines();
                        CdbTooltip:SetText("Automatically show quest start notes upon changing map zone.");
                        CdbTooltip:Show();
                    </OnEnter>
                    <OnLeave>CdbTooltip:Hide();</OnLeave>
                </Scripts>
            </CheckButton>
        </Frames>
    </Frame>
    <GameTooltip name="CdbTooltip" inherits="GameTooltipTemplate"/>
</Ui>
